<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Crud Productos</title>
		<meta charset="UTF-8">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	</head>
	<body>
		<div class="contanier mt-4">
			<div class="col-sem-6">
				<form th:action="@{/guardar}" th:object="${producto}" id="formProducto">
					<div class="card">
						<div class="card-header">
							<h3>DATOS DEL PRODUCTO</h3>
						</div>
						<div class="card-body">
							<div class="form-group">
								<label><b>Id Producto</b></label>
								<input type="text" th:field="*{IdProducto}" class="form-control" />
							</div>
							<div class="form-group">
								<label><b>Descripcion</b></label>
								<input type="text" th:field="*{Descripcion}" class="form-control" />
							</div>
							<div class="form-group">
								<label><b>Precio Unidad</b></label>
								<input type="number" th:field="*{PrecioUnidad}" class="form-control" />
							</div>
							<div class="form-group">
								<label><b>Stock</b></label>
								<input type="number" th:field="*{Stock}" class="form-control" />
							</div>
							<div class="form-group">
								<label><b>Estado</b></label>
								<input type="number" th:field="*{Estado}" class="form-control" />
							</div>
						</div>
						<div class="card-footer">
							<input type="button" value="Guardar" class="btn btn-success" onclick="validarFormulario()"/>
						</div>
					</div>
				</form>					
			</div>
		</div>
	</body>
<script>
function validarFormulario() {
  var idProducto = document.getElementById("IdProducto");
  var descripcion = document.getElementById("Descripcion");
  var precioUnidad = document.getElementById("PrecioUnidad");
  var stock= document.getElementById("Stock");
  var estado = document.getElementById("Estado");

  if (!(idProducto.value.length == 6)) {
    alert("El id del producto debe tener exactamente 6 caracteres.");
  }else{
	 if (!(descripcion.value.length < 50) || !(descripcion.value.length > 1)) {
    	alert("La descripcion debe tener entre 1 y 50 caracteres.");
  	}else{
		  var valorPrecioUnidad = parseFloat(precioUnidad.value)
		  if(!(valorPrecioUnidad > 50 && valorPrecioUnidad < 500)||isNaN(valorPrecioUnidad)){
			  alert("El precio de la unidad debe estar entre 50 y 500.");
		  }else{
			  var valorStock = parseInt(stock.value,10)
			  if(!(valorStock>0)){
				  alert("El stock debe ser un numero mayor que cero.");
			  }else{
				  if(!(estado.value == '0' || estado.value == '1')){
					   alert("El estado debe ser 0 o 1.");
				  }else{
					  alert("Registro exitoso");
					  document.getElementById("formProducto").submit();
				  }
			  }
		  }
	  } 
  }
}
</script>
</html>